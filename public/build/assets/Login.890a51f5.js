import{r as y,u as V,l as $,p as C,o as n,d as u,b as e,f as t,w as i,F as N,H as K,t as k,e as p,a,m as _,c as B,L as F,n as L,h as d,z as S}from"./app.053b6d29.js";import{J as U}from"./AuthenticationCard.00058b23.js";import{_ as R}from"./AuthenticationCardLogo.1c89fbb5.js";import{_ as q}from"./Button.b22e55ab.js";import{_ as v}from"./SecondaryButton.219c42dc.js";import{_ as w}from"./Input.5f86e511.js";import{_ as P}from"./Checkbox.0a11e8c6.js";import{_ as h}from"./Label.c1c01b45.js";import{_ as j}from"./ValidationErrors.ec0bbf18.js";import z from"./WebauthnLogin.1732f29a.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./InputError.5051588d.js";import"./WaitForKey.2f712a17.js";import"./webauthn.5f5be0a3.js";const H={key:0,class:"mb-4 font-medium text-sm text-green-600"},I={key:1},J={class:"mb-4 text-lg text-gray-900 text-center"},M=a("div",{class:"mb-4 max-w-xl text-gray-600 dark:text-gray-400"}," Connect with your security key ",-1),A=d(" Use your password "),D=["onSubmit"],E={class:"mt-4"},O={class:"block mt-4"},T={class:"flex items-center"},G=a("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1),Q={class:"flex items-center justify-end mt-4"},W=d(" Forgot your password? "),X=d(" Log in "),Y={key:0,class:"block mt-4"},Z=d(" Use your security key "),pe={__name:"Login",props:{canResetPassword:Boolean,status:String,publicKey:Object,userName:String},setup(r){const b=r,f=y(!0),m=y(null),s=V({nin:"",password:"",remember:!1});$(()=>b.publicKey,c=>{m.value=c}),C(()=>{m.value=b.publicKey});const g=()=>{s.transform(c=>({...c,remember:s.remember?"on":""})).post(route("login"),{onFinish:()=>s.reset("password")})},x=()=>{m.value=null,f.value=!0,S.Inertia.reload({only:["publicKey"]})};return(c,o)=>(n(),u(N,null,[e(t(K),{title:"Log in"}),e(U,null,{logo:i(()=>[e(R)]),default:i(()=>[e(j,{class:"mb-4"}),r.status?(n(),u("div",H,k(r.status),1)):p("",!0),r.publicKey&&f.value?(n(),u("div",I,[a("div",J,k(r.userName),1),M,e(z,{remember:!0,"public-key":m.value},null,8,["public-key"]),e(v,{class:"mr-2 mt-4",onClick:o[0]||(o[0]=_(l=>f.value=!1,["prevent"]))},{default:i(()=>[A]),_:1})])):(n(),u("form",{key:2,onSubmit:_(g,["prevent"])},[a("div",null,[e(h,{for:"nin",value:"NIN"}),e(w,{id:"nin",modelValue:t(s).nin,"onUpdate:modelValue":o[1]||(o[1]=l=>t(s).nin=l),type:"string",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),a("div",E,[e(h,{for:"password",value:"Password"}),e(w,{id:"password",modelValue:t(s).password,"onUpdate:modelValue":o[2]||(o[2]=l=>t(s).password=l),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),a("div",O,[a("label",T,[e(P,{checked:t(s).remember,"onUpdate:checked":o[3]||(o[3]=l=>t(s).remember=l),name:"remember"},null,8,["checked"]),G])]),a("div",Q,[r.canResetPassword?(n(),B(t(F),{key:0,href:c.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:i(()=>[W]),_:1},8,["href"])):p("",!0),e(q,{class:L(["ml-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:i(()=>[X]),_:1},8,["class","disabled"])]),m.value?(n(),u("div",Y,[e(v,{class:"mr-2",onClick:_(x,["prevent"])},{default:i(()=>[Z]),_:1},8,["onClick"])])):p("",!0)],40,D))]),_:1})],64))}};export{pe as default};
