import{r as u,u as x,o as t,d as c,b as e,f as r,w as y,F as s,H as w,e as p,a as n,m as v,n as C,h as i,D as V}from"./app.49aea73c.js";import{J as $}from"./AuthenticationCard.216478b0.js";import{_ as B}from"./AuthenticationCardLogo.caf64479.js";import{_ as K}from"./Button.21c461aa.js";import{_ as b}from"./Input.45ec0fda.js";import{_ as h}from"./Label.532bdcc0.js";import{_ as F}from"./ValidationErrors.66b382c1.js";import I from"./WebauthnLogin.6fe30056.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./InputError.ff2684e0.js";import"./WaitForKey.d7ca21bf.js";import"./webauthn.5f5be0a3.js";const N={key:0},T=n("h1",{class:"mb-4 max-w-xl text-gray-600 dark:text-gray-400"}," Please confirm access to your account by validating your security key. ",-1),U={key:1},P={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},j=i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. "),H=i(" Please confirm access to your account by entering one of your emergency recovery codes. "),J=["onSubmit"],R={key:0},S={key:1},z={class:"flex items-center justify-end mt-4"},A=["onClick"],D=i(" Use a recovery code "),E=i(" Use an authentication code "),L=i(" Log in "),re={__name:"TwoFactorChallenge",props:{two_factor:Boolean,remember:Boolean,publicKey:Object},setup(l){const a=u(!1),o=x({code:"",recovery_code:""}),_=u(null),f=u(null),k=async()=>{a.value^=!0,await V(),a.value?(_.value.focus(),o.code=""):(f.value.focus(),o.recovery_code="")},g=()=>{o.post(route("two-factor.login"))};return(M,d)=>(t(),c(s,null,[e(r(w),{title:"Two-factor Confirmation"}),e($,null,{logo:y(()=>[e(B)]),default:y(()=>[l.publicKey?(t(),c("div",N,[T,e(I,{remember:l.remember,publicKey:l.publicKey},null,8,["remember","publicKey"])])):p("",!0),l.two_factor?(t(),c("div",U,[n("div",P,[a.value?(t(),c(s,{key:1},[H],64)):(t(),c(s,{key:0},[j],64))]),e(F,{class:"mb-4"}),n("form",{onSubmit:v(g,["prevent"])},[a.value?(t(),c("div",S,[e(h,{for:"recovery_code",value:"Recovery Code"}),e(b,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:_,modelValue:r(o).recovery_code,"onUpdate:modelValue":d[1]||(d[1]=m=>r(o).recovery_code=m),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(t(),c("div",R,[e(h,{for:"code",value:"Code"}),e(b,{id:"code",ref_key:"codeInput",ref:f,modelValue:r(o).code,"onUpdate:modelValue":d[0]||(d[0]=m=>r(o).code=m),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),n("div",z,[n("button",{type:"button",class:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 underline cursor-pointer",onClick:v(k,["prevent"])},[a.value?(t(),c(s,{key:1},[E],64)):(t(),c(s,{key:0},[D],64))],8,A),e(K,{class:C(["ml-4",{"opacity-25":r(o).processing}]),disabled:r(o).processing},{default:y(()=>[L]),_:1},8,["class","disabled"])])],40,J)])):p("",!0)]),_:1})],64))}};export{re as default};
